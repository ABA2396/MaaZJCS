{
  "Stop": {},

  "MapSearch_Run_Current": {
    "action": "Custom",
    "custom_action": "MapSearch_ResetOverrides",
    "next": ["MapSearch_Start"]
  },
  "MapSearch_Run_All": {
    "next": [
      "[JumpBack]MapSearch_Run_Sen",
      "[JumpBack]MapSearch_Run_Shan",
      "[JumpBack]MapSearch_Run_Ze",
      "[JumpBack]MapSearch_Run_Long",
      "Stop"
    ]
  },
  "MapSearch_Run_Sen": {
    "max_hit": 1,
    "next": [
      "[JumpBack]MapSearch_Country_Sen",
      "[JumpBack]MapSearch_Click_World",
      "[JumpBack]MapSearch_Click_Return",
      "Stop"
    ]
  },
  "MapSearch_Run_Shan": {
    "max_hit": 1,
    "next": [
      "[JumpBack]MapSearch_Country_Shan",
      "[JumpBack]MapSearch_Click_World",
      "[JumpBack]MapSearch_Click_Return",
      "Stop"
    ]
  },
  "MapSearch_Run_Ze": {
    "max_hit": 1,
    "next": [
      "[JumpBack]MapSearch_Country_Ze",
      "[JumpBack]MapSearch_Click_World",
      "[JumpBack]MapSearch_Click_Return",
      "Stop"
    ]
  },
  "MapSearch_Run_Long": {
    "max_hit": 1,
    "next": [
      "[JumpBack]MapSearch_Country_Long",
      "[JumpBack]MapSearch_Click_World",
      "[JumpBack]MapSearch_Click_Return",
      "Stop"
    ]
  },
  "MapSearch_Run_Yu": {
    "max_hit": 1,
    "next": [
      "[JumpBack]MapSearch_Country_Yu",
      "[JumpBack]MapSearch_Click_World",
      "[JumpBack]MapSearch_Click_Return",
      "Stop"
    ]
  },

  "MapSearch_Click_World": {
    "recognition": "TemplateMatch",
    "template": ["world_icon.png"],
    "roi": [580, 1180, 140, 100],
    "action": "Click",
    "target": true,
    "post_delay": 500
  },

  "MapSearch_Country_Sen": {
    "recognition": "OCR",
    "expected": "森之国",
    "action": "Click",
    "target": true,
    "post_delay": 1500,
    "max_hit": 1,
    "next": ["MapSearch_SetCountry_Sen"]
  },

  "MapSearch_Country_Shan": {
    "recognition": "OCR",
    "expected": "山之国",
    "action": "Click",
    "target": true,
    "post_delay": 1500,
    "max_hit": 1,
    "next": ["MapSearch_SetCountry_Shan"]
  },

  "MapSearch_Country_Ze": {
    "recognition": "OCR",
    "expected": "泽之国",
    "action": "Click",
    "target": true,
    "post_delay": 1500,
    "max_hit": 1,
    "next": ["MapSearch_SetCountry_Ze"]
  },

  "MapSearch_Country_Long": {
    "recognition": "OCR",
    "expected": "龙之国",
    "action": "Click",
    "target": true,
    "post_delay": 1500,
    "max_hit": 1,
    "next": ["MapSearch_SetCountry_Long"]
  },

  "MapSearch_Country_Yu": {
    "recognition": "OCR",
    "expected": "羽之国",
    "action": "Click",
    "target": true,
    "post_delay": 1500,
    "max_hit": 1,
    "next": ["MapSearch_SetCountry_Yu"]
  },

  "MapSearch_SetCountry_Sen": {
    "action": "Custom",
    "custom_action": "MapSearch_ApplyCountryLimits",
    "custom_action_param": "Sen",
    "next": ["MapSearch_Start"]
  },
  "MapSearch_SetCountry_Shan": {
    "action": "Custom",
    "custom_action": "MapSearch_ApplyCountryLimits",
    "custom_action_param": "Shan",
    "next": ["MapSearch_Start"]
  },
  "MapSearch_SetCountry_Ze": {
    "action": "Custom",
    "custom_action": "MapSearch_ApplyCountryLimits",
    "custom_action_param": "Ze",
    "next": ["MapSearch_Start"]
  },
  "MapSearch_SetCountry_Long": {
    "action": "Custom",
    "custom_action": "MapSearch_ApplyCountryLimits",
    "custom_action_param": "Long",
    "next": ["MapSearch_Start"]
  },
  "MapSearch_SetCountry_Yu": {
    "action": "Custom",
    "custom_action": "MapSearch_ApplyCountryLimits",
    "custom_action_param": "Yu",
    "next": ["MapSearch_Start"]
  },

  "MapSearch_Click_Return": {
    "recognition": "TemplateMatch",
    "template": ["back_button.png"],
    "roi":[
      0,
      1180,
      160,
      100
    ],
    "action": "Click",
    "target": true,
    "post_delay": 5000,
    "next": ["MapSearch_Click_Return", "Stop"]
  },

  "MapSearch_Start": {
    "action": "Custom",
    "custom_action": "MapSearch_StartReset",
    "next": ["MapSearch_MoveLeft_Init"]
  },

  "MapSearch_MoveLeft_Init": {
    "action": "Swipe",
    "begin": [620, 640],
    "end": [100, 640],
    "duration": 100,
    "max_hit": 30,
    "next": ["MapSearch_MoveLeft_Init", "MapSearch_MoveUp_Init"]
  },
  "MapSearch_MoveUp_Init": {
    "action": "Swipe",
    "begin": [360, 1040],
    "end": [360, 100],
    "duration": 100,
    "max_hit": 30,
    "next": ["MapSearch_MoveUp_Init", "MapSearch_MoveDown_Init"]
  },
  "MapSearch_MoveDown_Init":{
    "doc": "地图边缘是没有东西的，可以先往中间滑动一点",
    "action": "Swipe",
    "begin": [360, 100],
    "end": [360, 1040],
    "duration": 100,
    "max_hit": 2,
    "next": ["MapSearch_MoveDown_Init", "MapSearch_MoveRight_Init"]
  },
"MapSearch_MoveRight_Init":{
    "doc": "地图边缘是没有东西的，可以先往中间滑动一点",
    "action": "Swipe",
    "begin": [100, 640],
    "end": [620, 640],
    "duration": 100,
    "max_hit": 2,
    "next": ["MapSearch_MoveRight_Init", "MapSearch_Row_Loop_LR"]
  },

  "MapSearch_Recognize_Level1": {
    "recognition": "TemplateMatch",
    "template": ["森1.png", "山1.png", "泽1.png", "龙1.png"],
    "roi": [
      100,
      300,
      620,
      650
    ],
    "green_mask": true,
    "post_delay": 2500,
    "max_hit": 1,
    "next": ["MapSearch_Recognize_Level1ReCheck", "Stop"]
  },
  "MapSearch_Recognize_Level1ReCheck": {
    "recognition": "TemplateMatch",
    "template": ["森1.png", "山1.png", "泽1.png", "龙1.png"],
    "roi": [
      100,
      300,
      620,
      650
    ],
    "green_mask": true,
    "action": "Click",
    "target": true,
    "post_delay": 500,
    "next": ["MapSearch_Check_Collected1", "MapSearch_ClearLevelHits1"]
  },

  "MapSearch_Recognize_Level2": {
    "recognition": "TemplateMatch",
    "template": ["森2.png", "山2.png", "泽2.png", "龙2.png"],
    "roi": [
      80,
      300,
      560,
      650
    ],
    "green_mask": true,
    "post_delay": 2500,
    "max_hit": 1,
    "next": ["MapSearch_Recognize_Level2ReCheck", "Stop"]
  },
  "MapSearch_Recognize_Level2ReCheck": {
    "recognition": "TemplateMatch",
    "template": ["森2.png", "山2.png", "泽2.png", "龙2.png"],
    "doc": "泽2 的鱼会动，不一定能识别到",
    "roi": [
      80,
      300,
      560,
      650
    ],
    "green_mask": true,
    "action": "Click",
    "target": true,
    "post_delay": 500,
    "next": ["MapSearch_Check_Collected2", "MapSearch_ClearLevelHits2"]
  },

  "MapSearch_Recognize_Level3": {
    "recognition": "TemplateMatch",
    "template": ["森3.png", "山3.png", "泽3.png", "龙3.png"],
    "roi": [
      80,
      300,
      560,
      650
    ],
    "green_mask": true,
    "post_delay": 2500,
    "max_hit": 1,
    "next": ["MapSearch_Recognize_Level3ReCheck", "Stop"]
  },
  "MapSearch_Recognize_Level3ReCheck": {
    "recognition": "TemplateMatch",
    "template": ["森3.png", "山3.png", "泽3.png", "龙3.png"],
    "roi": [
      0,
      300,
      720,
      650
    ],
    "green_mask": true,
    "action": "Click",
    "target": true,
    "post_delay": 500,
    "next": ["MapSearch_Check_Collected3", "MapSearch_ClearLevelHits3"]
  },

  "MapSearch_Recognize_Finely_Forged_Stone":{
    "recognition": "TemplateMatch",
    "template": ["精锻石.png"],
    "roi": [
      0,
      300,
      720,
      650
    ],
    "green_mask": true,
    "action": "Click",
    "target": true,
    "post_delay": 500,
    "next": ["MapSearch_Check_Collected_Finely_Forged_Stone", "MapSearch_ClearLevelHits_Finely_Forged_Stone"]
  },

  "MapSearch_Check_Collected1": {
    "recognition": "TemplateMatch",
    "template": ["collected_today.png"],
    "green_mask": true,
    "action": "Custom",
    "custom_action": "MapSearch_Handle_Collected_Today",
    "custom_action_param": "MapSearch_Recognize_Level1",
    "post_delay": 100,
    "max_hit": 1
  },
  "MapSearch_Check_Collected2": {
    "recognition": "TemplateMatch",
    "template": ["collected_today.png"],
    "green_mask": true,
    "action": "Custom",
    "custom_action": "MapSearch_Handle_Collected_Today",
    "custom_action_param": "MapSearch_Recognize_Level2",
    "post_delay": 100,
    "max_hit": 1
  },
  "MapSearch_Check_Collected3": {
    "recognition": "TemplateMatch",
    "template": ["collected_today.png"],
    "green_mask": true,
    "action": "Custom",
    "custom_action": "MapSearch_Handle_Collected_Today",
    "custom_action_param": "MapSearch_Recognize_Level3",
    "post_delay": 100,
    "max_hit": 1
  },
  "MapSearch_Check_Collected_Finely_Forged_Stone": {
    "recognition": "TemplateMatch",
    "template": ["collected_today.png"],
    "green_mask": true,
    "action": "Custom",
    "custom_action": "MapSearch_Handle_Collected_Today",
    "custom_action_param": "MapSearch_Recognize_Finely_Forged_Stone",
    "post_delay": 100,
    "max_hit": 1
  },

  "PersonalPage": {
    "recognition": "TemplateMatch",
    "template": ["personal_page.png"],
    "roi": [
      0,
      500,
      250,
      250
    ],
    "action": "Click",
    "target": [360, 10],
    "post_delay": 1000
  },

  "MapSearch_ClearLevelHits1": {
    "action": "Custom",
    "custom_action": "MapSearch_ClearLevelHits",
    "custom_action_param": "MapSearch_Recognize_Level1"
  },
  "MapSearch_ClearLevelHits2": {
    "action": "Custom",
    "custom_action": "MapSearch_ClearLevelHits",
    "custom_action_param": "MapSearch_Recognize_Level2"
  },
  "MapSearch_ClearLevelHits3": {
    "action": "Custom",
    "custom_action": "MapSearch_ClearLevelHits",
    "custom_action_param": "MapSearch_Recognize_Level3"
  },
  "MapSearch_ClearLevelHits_Finely_Forged_Stone": {
    "action": "Custom",
    "custom_action": "MapSearch_ClearLevelHits",
    "custom_action_param": "MapSearch_Recognize_Finely_Forged_Stone"
  },

  "MapSearch_Row_Loop_LR": { "next": ["MapSearch_MoveH_LR", "MapSearch_Row_End_LR"] },
  "MapSearch_Row_Loop_RL": { "next": ["MapSearch_MoveH_RL", "MapSearch_Row_End_RL"] },

  "MapSearch_MoveH_LR": {
    "action": "Swipe",
    "begin": [250, 640],
    "end": [500, 640],
    "duration": 500,
    "max_hit": 80,
    "next": [
      "[JumpBack]MapSearch_Recognize_Level1",
      "[JumpBack]MapSearch_Recognize_Level2",
      "[JumpBack]MapSearch_Recognize_Level3",
      "[JumpBack]MapSearch_Recognize_Finely_Forged_Stone",
      "[JumpBack]PersonalPage",
      "MapSearch_MoveH_LR",
      "MapSearch_Row_End_LR"
    ]
  },

  "MapSearch_MoveH_RL": {
    "action": "Swipe",
    "begin": [500, 640],
    "end": [250, 640],
    "duration": 500,
    "max_hit": 80,
    "next": [
      "[JumpBack]MapSearch_Recognize_Level1",
      "[JumpBack]MapSearch_Recognize_Level2",
      "[JumpBack]MapSearch_Recognize_Level3",
      "[JumpBack]MapSearch_Recognize_Finely_Forged_Stone",
      "[JumpBack]PersonalPage",
      "MapSearch_MoveH_RL",
      "MapSearch_Row_End_RL"
    ]
  },

  "MapSearch_Row_End_LR": {
    "action": "Custom",
    "custom_action": "MapSearch_RowReset",
    "next": ["MapSearch_MoveDown_From_LR", "Stop"]
  },
  "MapSearch_Row_End_RL": {
    "action": "Custom",
    "custom_action": "MapSearch_RowReset",
    "next": ["MapSearch_MoveDown_From_RL", "Stop"]
  },

  "MapSearch_MoveDown_From_LR": {
    "action": "Swipe",
    "begin": [360, 300],
    "end": [360, 700],
    "duration": 500,
    "post_delay": 500,
    "max_hit": 25,
    "next": ["MapSearch_Row_Loop_RL"]
  },

  "MapSearch_MoveDown_From_RL": {
    "action": "Swipe",
    "begin": [360, 300],
    "end": [360, 700],
    "duration": 500,
    "post_delay": 500,
    "max_hit": 25,
    "next": ["MapSearch_Row_Loop_LR"]
  }
}